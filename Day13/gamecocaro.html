<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<body>
<h3>Caro Game Simple</h3>
<p id="carogame" />
<!--<input type="button" value="Nguoi choi A" onclick="changeValue()"><br><br>-->
<!--<input type="button" value="Nguoi choi B" onclick="changeValue()"><br><br>-->
</body>
<script>
    let b = document.getElementById("carogame");
    let data = "";
    let board = new Array();
    for (let i = 0; i < 15; i++) {
        board[i] = new Array();
        for (let j = 0; j < 15 ; j++) {
            board[i][j] = '.';
        }
    }
    for (let i = 0; i < 15; i++) {
        data += "<br>";
        for (let j = 0; j < 15; j++) {
            data += board[i][j] + "&nbsp;&nbsp;&nbsp;&nbsp;";
        }
    }
    data += "<br/><br/><input type='button' value='Nguoi choi A' onclick='changeValue(value)'>"
    data += "<br/><br/><input type='button' value='Nguoi choi B' onclick='changeValue(value)'>"
    b.innerHTML = data;

    function changeValue(value) {
        let positionX = +prompt("X: ");
        let positionY = +prompt("Y: ");
        data = "";
        if (value == 'Nguoi choi A') board[positionX][positionY] = "x"
        else board[positionX][positionY] = "o";
        for (let i = 0; i < 15; i++) {
            data += "<br>";
            for (let j = 0; j < 15; j++) {
                data += board[i][j] + "&nbsp;&nbsp;&nbsp;&nbsp;";
            }
        }
        data += "<br/><br/><input type='button' value='Nguoi choi A' onclick='changeValue(value)'>"
        data += "<br/><br/><input type='button' value='Nguoi choi B' onclick='changeValue(value)'>"
        b.innerHTML = "<hr/>" + data;
        let isWin = check(positionX,positionY);
        if (isWin) {
            data+="<br><br>Chuc mung "+value+ " win";
            b.innerHTML = "<hr/>" + data;
        }
        console.log(isWin);
    }

    function check(positionX,positionY) {
        let a = new Array(15);
        a[1] = board[positionX][positionY];
        if (positionX-1>=0 && positionY-1>=0) a[2] = board[positionX-1][positionY-1]
        else a[2] ='0';
        if (positionX-1>=0 && positionY>=0) a[3] = board[positionX-1][positionY]
        else a[3] ='0';
        if (positionX-1>=0 && positionY+1<=14) a[4] = board[positionX-1][positionY+1]
        else a[4] ='0';
        if (positionY-1>=0) a[5] = board[positionX][positionY-1]
        else a[5] ='0';
        if (positionY+1<=14) a[6] = board[positionX][positionY+1]
        else a[6] ='0';
        if (positionX+1<=14 && positionY-1>=0) a[7] = board[positionX+1][positionY-1]
        else a[7] ='0';
        if (positionX+1<=14) a[8] = board[positionX+1][positionY]
        else a[8] ='0';
        if (positionX+1<=14 && positionY+1<=14) a[9] = board[positionX+1][positionY+1]
        else a[9] ='0';
        if (positionX-2>=0 && positionY-2>=0) a[10] = board[positionX-2][positionY-2]
        else a[10] ='0';
        if (positionX-2>=0) a[11] = board[positionX-2][positionY]
        else a[11] ='0';
        if (positionX-2>=0 && positionY+2<=14) a[12] = board[positionX-2][positionY+2]
        else a[12] ='0';
        if (positionY-2>=0) a[13] = board[positionX][positionY-2]
        else a[13] ='0';
        if (positionY+2<=14) a[14] = board[positionX][positionY+2]
        else a[14] ='0';
        if (positionX+2<=14 && positionY-2>=0) a[15] = board[positionX+2][positionY-2]
        else a[15] ='0';
        if (positionX+2<=14) a[16] = board[positionX+2][positionY]
        else a[16] ='0';
        if (positionX+2<=14 && positionY+2<=14) a[15] = board[positionX+2][positionY+2]
        else a[17] ='0';

        let isWin = false;
        if (a[1]==a[2] && a[1]==a[9]) isWin=true;
        if (a[1]==a[3] && a[1]==a[8]) isWin=true;
        if (a[1]==a[4] && a[1]==a[7]) isWin=true;
        if (a[1]==a[5] && a[1]==a[6]) isWin=true;
        if (a[1]==a[2] && a[1]==a[10]) isWin=true;
        if (a[1]==a[3] && a[1]==a[11]) isWin=true;
        if (a[1]==a[4] && a[1]==a[12]) isWin=true;
        if (a[1]==a[6] && a[1]==a[14]) isWin=true;
        if (a[1]==a[9] && a[1]==a[17]) isWin=true;
        if (a[1]==a[8] && a[1]==a[16]) isWin=true;
        if (a[1]==a[7] && a[1]==a[15]) isWin=true;
        if (a[1]==a[5] && a[1]==a[13]) isWin=true;
        return isWin;
    }
</script>

</body>
</html>